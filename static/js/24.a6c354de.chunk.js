(this["webpackJsonpmappingfunk-interface"]=this["webpackJsonpmappingfunk-interface"]||[]).push([[24],{1062:function(n,e,t){"use strict";t.r(e);var a,c,i,r,o,l,s,d,b,p,x,j=t(8),g=t(1),f=t(46),h=t(107),m=t(108),u=t(25),O=t(92),y=t(144),w=t(14),k=t(23),v=t(412),C=t(214),N=t(159),F=t.n(N),P=t(93),S=t(413),z=t(227),D=t(0);const A=Object(f.a)("div")(a||(a=Object(j.a)(["\n  padding: 2px 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: Inter;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  border-radius: 20px;\n  background: linear-gradient(90deg, #61c2f7 0%, #7ae9f0 100%);\n  cursor: pointer;\n"]))),M=Object(f.a)("div")(c||(c=Object(j.a)(["\n  font-family: PingFang SC;\n  font-size: 10px;\n  font-weight: 500;\n  line-height: 10px;\n  padding: 4px 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 12px;\n  margin-right: 8px;\n"]))),T=Object(f.a)(M)(i||(i=Object(j.a)(["\n  color: rgba(85, 181, 89, 1);\n  background: rgba(85, 181, 89, 0.1);\n"]))),I=Object(f.a)(M)(r||(r=Object(j.a)(["\n  color: rgba(237, 112, 107, 1);\n  background: rgba(237, 112, 107, 0.2);\n"]))),B=Object(f.a)("div")(o||(o=Object(j.a)(["\n  min-width: 946px;\n  .active-icons {\n    transform: rotate(45deg);\n  }\n  .active-table {\n    background-color: white;\n    border-radius: 8px 8px 0 0;\n    border-bottom: unset;\n  }\n  .active-child-table {\n    height: auto;\n  }\n  .icons {\n    margin-right: 17px;\n    line-height: 19.6px;\n    /* transform-origin: center center; */\n    width: 20px;\n    margin-left: 12px;\n    cursor: pointer;\n  }\n  .ticker {\n    text-align: left;\n    width: 159px;\n  }\n  .price {\n    width: 184px;\n  }\n  .balance-wallet {\n    width: 195px;\n  }\n  .balance-collateral {\n    width: 216px;\n  }\n  .debt {\n    width: 196px;\n    margin-left: auto;\n    padding-right: 11px;\n  }\n"]))),W=Object(f.a)("div")(l||(l=Object(j.a)(["\n  display: flex;\n  color: #00000080;\n  padding: 18px 0;\n  border-bottom: 0.5px solid #0000001f;\n  font-size: 14px;\n"]))),E=Object(f.a)("div")(s||(s=Object(j.a)(["\n  font-family: PingFang SC;\n  font-weight: 400;\n  line-height: 19.6px;\n  text-align: right;\n  display: flex;\n  align-items: center;\n"]))),R=Object(f.a)("div")(d||(d=Object(j.a)([""]))),q=Object(f.a)("div")(b||(b=Object(j.a)(["\n  color: #000000;\n  font-family: PingFang SC;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 19.6px;\n  padding: 17px 0;\n  border-bottom: 0.5px solid #0000001f;\n  margin-top: 10px;\n  cursor: pointer;\n  display: flex;\n"]))),H=Object(f.a)("div")(p||(p=Object(j.a)(["\n  background: #def1ff;\n  border-radius: 0 0 8px 8px;\n  overflow: hidden;\n  height: 0;\n  padding: 0 30px 0 50px;\n  .debt {\n    padding-right: 20px;\n    display: flex;\n    justify-content: end;\n  }\n"]))),Y=Object(f.a)(q)(x||(x=Object(j.a)(["\n  font-size: 12px;\n  padding: 11px 0 12px;\n  align-items: center;\n  border-bottom: 0.5px solid #0000001f;\n  &:last-of-type {\n    border: unset;\n  }\n"])));var L,J=function(n){const{testData:e}=n,[t,a]=Object(g.useState)([0]),c=Object(g.useCallback)((n=>0===n?"":Number(n)>0?Object(D.jsx)(T,{children:"Long"}):Object(D.jsx)(I,{children:"Short"})),[]);return Object(D.jsxs)(B,{children:[Object(D.jsxs)(W,{children:[Object(D.jsx)(E,{className:"icons",onClick:()=>{t.length===e.length?a([]):(console.log(Array.from({length:e.length},((n,e)=>e))),a(Array.from({length:e.length},((n,e)=>e))))},children:Object(D.jsx)(z.a,{style:{transform:t.length===e.length?"rotate(45deg)":""},color:"#2AA1FF"})}),Object(D.jsx)(E,{className:"ticker",children:"Ticker"}),Object(D.jsx)(E,{className:"price",children:"Mark Price"}),Object(D.jsx)(E,{className:"balance-wallet",children:"Balance in Wallet"}),Object(D.jsx)(E,{className:"balance-collateral",children:"Balance in Collateral"}),Object(D.jsx)(E,{className:"debt",children:"Outstanding Debt"})]}),e&&e.length>0&&e.map(((n,e)=>Object(D.jsxs)(R,{children:[Object(D.jsxs)(q,{className:"".concat(t.includes(e)?"active-table":""),onClick:()=>{const n=t.some((n=>n===e));a(n?t.filter((n=>n!==e)):[...t,e])},children:[Object(D.jsx)(E,{className:"".concat(t.includes(e)?"active-icons":""," icons"),children:Object(D.jsx)(z.a,{color:"#2AA1FF"})}),Object(D.jsxs)(E,{className:"ticker",children:[Object(D.jsx)("img",{src:k.a[n.ticker],style:{display:"block",marginRight:7,float:"left"},alt:"icon"}),n.ticker]}),Object(D.jsxs)(E,{className:"price",children:[n.markPrice," "," WBTC"]}),Object(D.jsx)(E,{className:"balance-wallet",children:Object(C.c)(n.balanceWallet)}),Object(D.jsx)(E,{className:"balance-collateral",children:Object(C.c)(n.balanceCollateral)}),Object(D.jsx)(E,{className:"debt",children:Object(C.c)(n.outstandingDebt)})]},n.balanceCollateral),Object(D.jsxs)(H,{className:"".concat(t.includes(e)?"active-child-table":""),children:[Object(D.jsxs)(W,{children:[Object(D.jsx)(E,{className:"ticker",children:"Delivery Date"}),Object(D.jsx)(E,{className:"price",children:"Fair Price"}),Object(D.jsx)(E,{className:"balance-wallet",children:"Net Position"}),Object(D.jsx)(E,{className:"balance-collateral"}),Object(D.jsx)(E,{className:"debt",children:"Action"})]}),n.childTableInfo&&n.childTableInfo.length>0&&n.childTableInfo.map((n=>Object(D.jsxs)(Y,{className:"child-table-cell",children:[Object(D.jsx)(E,{className:"ticker",children:n.deliveryDate}),Object(D.jsxs)(E,{className:"price",children:[Object(C.c)(n.fairPrice)," "," WBTC"]}),Object(D.jsxs)(E,{className:"balance-wallet",children:[c(n.netPosition)," ",Object(C.c)(Object(w.b)(n.netPosition.toString(),18).toString().replace(/^[-+]/,""))]}),Object(D.jsx)(E,{className:"balance-collateral"}),Object(D.jsx)(E,{className:"debt",style:{paddingRight:"7px"},children:Object(D.jsx)(A,{onClick:()=>{window.open("".concat(n.actionUrl))},children:"Hedge"})})]},n.deliveryDate)))]})]},n.balanceCollateral)))]})};const U=Object(f.a)("div")(L||(L=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n  padding-right: 100px;\n  overflow: auto;\n"])));function X(n){let{tokenIndex:e}=n;const{toastError:t}=Object(O.a)(),{active:a,library:c,chainId:i,account:r}=Object(u.b)(),{hashPowerTokenList:o,walletTokenBalance:l}=Object(S.a)(),{position:s,ticker:d}=o[e]||{position:"",ticker:""},{instrumentContract:b,instrumentContract2:p,observerContract:x}=Object(m.a)(),j=0===e?b:p,f=Object(y.a)(c,a,i),[h,v]=Object(g.useState)(),N=Object(g.useCallback)((async()=>{const n=await f(s);n&&v(n)}),[f,s]);Object(g.useEffect)((()=>{s&&r&&N()}),[r,N,s]);const z=Object(g.useMemo)((()=>o&&o[e]&&o[e].balance?Number(Object(w.c)("".concat(o[e].balance),0))/Number(Object(w.c)("1",o[e].decimals)):0),[o,e]),[D,A]=Object(g.useState)([]),M=Object(g.useMemo)((()=>o&&o.length&&o[e].position&&Number(o[e].position)?Object(C.f)(o[e].tokensValues[o[e].token]):0),[o,e]),T=Object(g.useMemo)((()=>[{ticker:d,markPrice:M,balanceWallet:l[d],balanceCollateral:h&&h[d],outstandingDebt:z,addIcon:!1,childTableInfo:D}]),[h,M,z,D,d,l]),I=Object(g.useCallback)((async n=>{let a=0;try{const t=await x.getPosition(0===e?"0x68e6958bcb7f2e1e87a872dde341f8cbe7d52bc6":"0x0C10527c06828024CA2c1A993DdB3E922DFb8dE2",n,r);t&&t.size&&(a=t.size)}catch(c){c&&t("Failed",c.message)}return a}),[r,x,t,e]),B=Object(g.useCallback)((async n=>{let e=0;try{const t=await j.inquire(n,0);t&&t.sqrtFairPX96&&(e=Number(t.sqrtFairPX96/2**96)**2)}catch(a){if(a)return t("Failed",a.message),0}return e}),[j,t]),W=Object(g.useCallback)((async()=>{if(s&&a&&j&&x)try{const n=await j.getExpiries();if(n){const e=[];for(let t=0;t<n.length;t++){const a=n[t],c=await I(a),i=await B(a);e.push({deliveryDate:F()(1e3*a).format("YYYY-MM-DD"),fairPrice:i.toFixed(k.b.WBTC.decimals),netPosition:Number(c),actionUrl:"https://testnet.synfutures.com/#/trade/blastsepolia/F(BTC,25)-WBTC-".concat(P.f,"-").concat(F()(1e3*a).format("MMDD"))})}A(e)}}catch(n){n&&t("Failed",n.message)}}),[a,B,I,j,x,s,t]);return Object(g.useEffect)((()=>{W()}),[W]),T[0]}e.default=function(){const n=X({tokenIndex:0}),e=X({tokenIndex:1});return Object(D.jsxs)(U,{children:[Object(D.jsx)(v.l,{children:"Hedging"}),Object(D.jsx)(h.a,{style:{paddingTop:"15px",paddingLeft:"20px",paddingRight:"20px",overflow:"auto",height:"calc(100% - 200px)"},children:Object(D.jsx)(J,{testData:[n,e]})})]})}},412:function(n,e,t){"use strict";t.d(e,"m",(function(){return F})),t.d(e,"l",(function(){return P})),t.d(e,"a",(function(){return S})),t.d(e,"c",(function(){return z})),t.d(e,"b",(function(){return D})),t.d(e,"e",(function(){return A})),t.d(e,"h",(function(){return M})),t.d(e,"k",(function(){return T})),t.d(e,"j",(function(){return I})),t.d(e,"g",(function(){return B})),t.d(e,"n",(function(){return W})),t.d(e,"d",(function(){return E})),t.d(e,"f",(function(){return R})),t.d(e,"i",(function(){return q}));var a,c,i,r,o,l,s,d,b,p,x,j,g,f,h=t(8),m=(t(1),t(46)),u=t(1056),O=t(1064),y=t(1065),w=t(107),k=t(433),v=t.n(k),C=t(21),N=t(0);const F=Object(m.a)(w.a)(a||(a=Object(h.a)(["\n  margin-bottom: 20px;\n  padding-bottom: 0 !important;\n"]))),P=Object(m.a)("h3")(c||(c=Object(h.a)(["\n  font-family: PingFangSC-Semibold, sans-serif;\n  font-style: normal;\n  font-weight: 550;\n  font-size: 22px;\n  line-height: 31px;\n  color: #000000;\n  margin-bottom: 10px;\n"]))),S=Object(m.a)((n=>Object(N.jsx)(u.a,{disableGutters:!0,elevation:0,square:!0,...n})))((()=>({borderBottom:".2px solid #a5a5a5",background:"unset",boxShadow:"none","&:last-child":{borderBottom:0},"&:before":{display:"none"},".MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(45deg)"}}))),z=Object(m.a)((n=>Object(N.jsx)(O.a,{expandIcon:Object(N.jsx)(v.a,{style:{color:"#2AA1FF"}}),...n})))((()=>({padding:0,"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(45deg)"},"& .MuiAccordionSummary-content":{margin:"20px 0",p:{color:"#000",fontSize:"1rem",fontFamily:"PingFangSC-Semibold, sans-serif",fontWeight:600,lineHeight:"22px"}}}))),D=Object(m.a)(y.a)((()=>({padding:"0 0 30px 0",transition:".3s"}))),A=(Object(m.a)("div")(i||(i=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Object(m.a)(C.c)(r||(r=Object(h.a)(["\n  display: block !important;\n  background: linear-gradient(90deg, #61c2f7 0%, #7ae9f0 100%);\n  border-radius: 20px !important;\n  color: #000;\n  width: 30% !important;\n  margin: 0 auto !important;\n  box-shadow: none !important;\n"])))),M=(Object(m.a)(C.c)(o||(o=Object(h.a)(["\n  display: block !important;\n  background: linear-gradient(90deg, #61c2f7 0%, #7ae9f0 100%);\n  border-radius: 20px !important;\n  color: #000;\n  //width: 30% !important;\n  margin: 0 auto !important;\n  box-shadow: none !important;\n"]))),Object(m.a)("div")(l||(l=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0;\n\n  div {\n    display: flex;\n    margin-bottom: 10px;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.5);\n\n    p + p {\n      margin-left: 20px;\n    }\n  }\n\n  .days {\n    margin: 0;\n  }\n"]))),Object(m.a)("div")(s||(s=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  width: calc(100% / 2 - 25px);\n\n  p {\n    height: 28px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 15px;\n    box-sizing: border-box;\n\n    span {\n      font-size: 12px;\n      line-height: 17px;\n      color: rgba(0, 0, 0, 0.5);\n    }\n  }\n"]))),Object(m.a)("strong")(d||(d=Object(h.a)(["\n  font-family: PingFangSC-Regular, sans-serif;\n  font-weight: 400;\n  display: block;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n  background: #c4c4c4;\n  line-height: 16px;\n  text-align: center;\n  border-radius: 50%;\n  flex: none;\n"])))),T=Object(m.a)("div")(b||(b=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(0, 0, 0, 0.5);\n  background: #f1f1f1;\n  border-radius: 8px;\n  padding: 14px 80px 13px 21px;\n  margin-bottom: 20px;\n\n  strong {\n    margin-right: 16px;\n  }\n  * {\n    font-family: PingFangSC-Regular, sans-serif;\n  }\n"]))),I=Object(m.a)("span")(p||(p=Object(h.a)(["\n  font-family: PingFangSC-Regular, sans-serif;\n  font-size: 12px;\n  line-height: 17px;\n  color: rgba(0, 0, 0, 0.5);\n"]))),B=Object(m.a)("div")(x||(x=Object(h.a)(["\n  display: flex;\n"]))),W=(n,e)=>function(t){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(n,{...t,children:e})})},E=Object(m.a)(C.c)(j||(j=Object(h.a)(["\n  box-shadow: 0px 2px 0px rgba(0, 0, 0, 0.043) !important;\n  border-radius: 14px !important;\n  background: linear-gradient(270deg, #7ae9f1 0%, #61c3f7 100%) !important;\n  border-radius: 14px !important;\n  font-size: 14px !important;\n  height: 32px !important;\n  line-height: 32px !important;\n  color: #000 !important;\n  font-weight: normal !important;\n"]))),R=Object(m.a)("h1")(g||(g=Object(h.a)(["\n  font-family: 'Heebo Medium';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 32px;\n  line-height: 47px;\n  margin-bottom: 14px;\n  color: #000000;\n"]))),q=Object(m.a)("div")(f||(f=Object(h.a)(["\n  height: calc(100vh - 189px);\n  padding-bottom: 100px;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])))},413:function(n,e,t){"use strict";var a=t(1),c=t(142);e.a=()=>{const n=Object(a.useContext)(c.a);if(void 0===n)throw new Error("hashPowerToken context undefined");return n}}}]);
//# sourceMappingURL=24.a6c354de.chunk.js.map