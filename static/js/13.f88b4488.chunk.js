(this["webpackJsonpmappingfunk-interface"]=this["webpackJsonpmappingfunk-interface"]||[]).push([[13],{1047:function(e,t,n){"use strict";n.r(t);var a=n(8),i=n(1),r=n.n(i),o=n(709),c=n(15),s=n(6),l=n(31),d=n(361),p=n(406),b=n(46),u=n(74),m=n(989),j=n(0);const g=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],h=Object(b.a)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return Object(s.a)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:Object(p.a)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{theme:t,ownerState:n}=e;return Object(s.a)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(t.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(e=>{let{theme:t,ownerState:n}=e;return Object(s.a)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(t.palette.divider),transform:"translateX(0%)"}})}),(e=>{let{ownerState:t}=e;return Object(s.a)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),f=Object(b.a)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return Object(s.a)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}));var x,O,y=i.forwardRef((function(e,t){const n=Object(u.a)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:i,className:r,component:o=(i?"div":"hr"),flexItem:p=!1,light:b=!1,orientation:x="horizontal",role:O=("hr"!==o?"separator":void 0),textAlign:y="center",variant:w="fullWidth"}=n,v=Object(c.a)(n,g),k=Object(s.a)({},n,{absolute:a,component:o,flexItem:p,light:b,orientation:x,role:O,textAlign:y,variant:w}),S=(e=>{const{absolute:t,children:n,classes:a,flexItem:i,light:r,orientation:o,textAlign:c,variant:s}=e,l={root:["root",t&&"absolute",s,r&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===c&&"vertical"!==o&&"textAlignRight","left"===c&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return Object(d.a)(l,m.b,a)})(k);return Object(j.jsx)(h,Object(s.a)({as:o,className:Object(l.default)(S.root,r),role:O,ref:t,ownerState:k},v,{children:i?Object(j.jsx)(f,{className:S.wrapper,ownerState:k,children:i}):null}))})),w=n(412),v=n(25),k=n(588),S=n(107),C=n(21),T=n(68),M=n(214),R=n(12),A=n(92),P=n(413),I=n(987),W=n(14),B=n(114),z=n(81),F=n(29),D=n(51),L=n(16),N=n(9),V=n(140),E=n(158),H=n(76),_=n(427),U=n(405),G=n(990),$=n(527),J=n.n($),Z=n(101),q=n(23),Y=n(589),X=n(108);const K=Object(b.a)(U.a)(x||(x=Object(a.a)(["\n  text-transform: none;\n  cursor: pointer;\n  font-family: PingFangSC-Regular, sans-serif;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 20px;\n  color: #2aa1ff;\n  padding: 0;\n"]))),{claimHelper:Q}=(Object(b.a)(Z.a)(O||(O=Object(a.a)(["\n  box-shadow: 0px 2px 0px rgba(0, 0, 0, 0.043);\n  border-radius: 14px;\n  background: linear-gradient(270deg, #7ae9f1 0%, #61c3f7 100%);\n  border-radius: 14px;\n  font-size: 14px;\n  height: 32px;\n  line-height: 32px;\n  color: #000;\n  font-weight: normal;\n"]))),T.a);var ee,te=function(e){let{row:t,address:n,rewardsData:a}=e;const{signer:r}=Object(X.a)(),[o,c]=Object(i.useState)(!1),{setRefresh:s}=Object(P.a)(),{connector:l,active:d,chainId:p,account:b}=Object(v.b)(),{toastInfo:u,toastSuccess:m,toastError:g}=Object(A.a)(),{ticker:h}=t,{walletTokenBalance:f}=Object(P.a)(),[x,O]=Object(i.useState)(!1),y=Object(i.useCallback)((async()=>{d&&l&&h&&(O(!0),await Object(Y.a)({connector:l,tokenSymbol:h,chainId:p}),O(!1))}),[l,d,p,h]);Object(i.useEffect)((()=>{a&&(a.walletRewards||a.avatarRewards?0===a.walletRewards.epochReward.toNumber()&&0===a.avatarRewards.epochReward.toNumber()&&c(!0):c(!0))}),[a,t,f]);const w=Object(i.useCallback)((async()=>{if(r){const n=Object(R.b)(r,Q.abi,Q.address[p]);if(n)try{const e=[];e.push([t.address[p],b]),t.avatar&&Number(t.avatar)>0&&e.push([t.address[p],t.avatar]),c(!0);const i=await n.multipleClaim(e),r=Object(W.b)(a.avatarRewards[0],q.b.WBTC.decimals),o=Object(W.b)(a.walletRewards[0],q.b.WBTC.decimals);if(i){let n=window.localStorage.getItem("claimRewardsList");if(n){n=JSON.parse(n);const a=[...n,{id:J()(),txHash:i.hash,date:(new Date).getTime(),tokenSymbol:t.token,walletRewards:o,avatarRewards:r,type:"My Wallet"}];e.length>1&&a.push({id:J()(),txHash:i.hash,date:(new Date).getTime(),tokenSymbol:t.token,walletRewards:o,avatarRewards:r,type:"Collateral"}),window.localStorage.setItem("claimRewardsList",JSON.stringify(a))}else{const n=[{id:J()(),txHash:i.hash,date:(new Date).getTime(),tokenSymbol:t.token,walletRewards:o,avatarRewards:r,type:"My Wallet"}];e.length>1&&n.push({id:J()(),txHash:i.hash,date:(new Date).getTime(),tokenSymbol:t.token,walletRewards:o,avatarRewards:r,type:"Total Collateral"}),window.localStorage.setItem("claimRewardsList",JSON.stringify(n))}u("Submitted");const a=await i.wait();m("Success"),s((e=>!e)),a&&c(!1)}}catch(e){c(!1),g("Fail",null===e||void 0===e?void 0:e.message.substr(0,null===e||void 0===e?void 0:e.message.indexOf("(")))}}}),[b,p,a,t,s,r,g,u,m]);return Object(j.jsx)("div",{children:Object(j.jsxs)(G.a,{direction:"row",spacing:2,children:[Object(j.jsx)(K,{disabled:o,onClick:w,children:"Claim Rewards"}),Object(j.jsx)(K,{disabled:x,onClick:y,children:"Add to Metamask"})]})})};const ne=Object(b.a)("div")(ee||(ee=Object(a.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  h3 {\n    font-family: 'Heebo Medium';\n    font-weight: 500;\n    font-size: 22px;\n    line-height: 32px;\n    color: #000000;\n    margin-bottom: 20px;\n  }\n  a {\n    display: flex;\n    align-items: center;\n    svg{\n      width: 13px;\n      height: 13px;\n      margin-right: 10px;\n    }\n    \n    font-family: 'PingFang SC';\n    font-style: normal;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    letter-spacing: 0.02em;\n    color: #2AA1FF;\n  }\n\n"])));var ae=function(e){const{children:t}=e;return Object(j.jsx)(ne,{...e,children:t})};var ie=function(e){return Object(j.jsx)(C.w,{viewBox:"0 0 14 14",fill:"none",...e,children:Object(j.jsx)("path",{d:"M13.327 4.31099C14.812 7.49536 13.4342 11.2808 10.2496 12.7657C9.08552 13.3087 7.78443 13.4867 6.51733 13.2763C5.25023 13.066 4.07644 12.4771 3.15028 11.5872C3.03172 11.4696 2.96415 11.31 2.96216 11.143C2.96016 10.976 3.02389 10.815 3.1396 10.6945C3.25531 10.5741 3.41372 10.504 3.58067 10.4993C3.74761 10.4946 3.9097 10.5558 4.03197 10.6695C4.77291 11.3815 5.71197 11.8526 6.72567 12.0209C7.73938 12.1892 8.78028 12.0467 9.71151 11.6123C12.2592 10.4245 13.3614 7.3964 12.1736 4.84872C10.9855 2.30104 7.95738 1.19917 5.40938 2.38695C4.23441 2.93388 3.31272 3.90895 2.83274 5.11281L3.69501 5.18536C3.7507 5.18996 3.80419 5.20915 3.85011 5.24099C3.89603 5.27283 3.93275 5.3162 3.95659 5.36674C3.98042 5.41728 3.99053 5.4732 3.98589 5.52889C3.98124 5.58457 3.96202 5.63805 3.93015 5.68395L2.23678 8.12122C2.17383 8.21198 2.08823 8.28469 1.98849 8.33213C1.88874 8.37958 1.77832 8.4001 1.66819 8.39168C1.56008 8.38327 1.45661 8.34416 1.36997 8.27894C1.28334 8.21372 1.21713 8.12511 1.17915 8.02354L0.176556 5.34604C0.157686 5.29578 0.151838 5.24157 0.159556 5.18844C0.167275 5.13532 0.18831 5.08501 0.220702 5.0422C0.253094 4.99939 0.295791 4.96547 0.344818 4.94361C0.393845 4.92174 0.447608 4.91263 0.501102 4.91713L1.51928 5.00272C1.79126 4.17894 2.229 3.41955 2.80554 2.77133C3.38208 2.1231 4.08522 1.59976 4.87165 1.23354C8.05665 -0.251735 11.8421 1.12599 13.327 4.31068V4.31099ZM7.24274 3.18145C7.40323 3.18148 7.55779 3.24215 7.67544 3.3513C7.79309 3.46046 7.86516 3.61004 7.87719 3.77008L7.8791 3.81781V6.94713L9.78597 8.03818C9.92495 8.11771 10.0288 8.24673 10.0769 8.39947C10.125 8.55222 10.1137 8.71747 10.0453 8.86227L10.0224 8.90681C9.94279 9.04574 9.81375 9.14956 9.66101 9.19756C9.50827 9.24556 9.34304 9.23423 9.19829 9.16581L9.15374 9.1429L7.08683 7.96054C6.95022 7.88242 6.83504 7.77173 6.75155 7.63833C6.66806 7.50494 6.61884 7.35297 6.60828 7.19595L6.60638 7.13199V3.81781C6.60638 3.64904 6.67342 3.48718 6.79276 3.36783C6.9121 3.24849 7.07397 3.18145 7.24274 3.18145V3.18145Z",fill:"#2AA1FF"})})};const re=[{id:"ticker",numeric:!1,disablePadding:!0,isSort:!0,label:"Ticker"},{id:"markPrice",numeric:!1,disablePadding:!0,isSort:!0,label:"Mark Price"},{id:"HoldingsWallet",numeric:!0,disablePadding:!1,isSort:!0,label:"In Wallet"},{id:"HoldingsAvatar",numeric:!0,disablePadding:!1,isSort:!0,label:"In Collateral"},{id:"claimableWallet",numeric:!0,disablePadding:!1,isSort:!0,label:"Claimable - In Wallet"},{id:"claimableAvatar",numeric:!0,disablePadding:!1,isSort:!0,label:"Claimable - In Collateral"},{id:"action",numeric:!1,disablePadding:!1,isSort:!1,label:"Action"}];var oe=function(e){let{rewardsData:t}=e;const{hashPowerTokenList:n,walletTokenBalance:a}=Object(P.a)(),{account:i}=Object(v.b)();return Object(j.jsxs)(S.a,{style:{marginBottom:20},children:[Object(j.jsxs)(ae,{children:[Object(j.jsx)("h3",{children:"Holdings - Hashpower Token"}),Object(j.jsxs)(H.b,{to:"/history/claimed/0",children:[Object(j.jsx)(ie,{})," Claimed History"]})]}),Object(j.jsx)(_.b,{columns:re,dataSource:n||[],pagination:!1,isMyPage:!0,content:(e,n,r)=>Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(_.a,{style:{paddingLeft:0},component:"th",id:r,scope:"row",children:[Object(j.jsx)("img",{src:q.a[e.ticker],style:{display:"block",marginRight:7,float:"left"},alt:"icon"}),e.ticker]}),Object(j.jsxs)(_.a,{children:[e.tokensValues?W.a.formatFourDecimals(Object(M.f)(e.tokensValues[e.token])):0," WBTC"]}),Object(j.jsx)(_.a,{children:a?Object(M.c)(a[e.token]):0}),Object(j.jsx)(_.a,{children:Number(e.position)&&e.avatarAssetList?Object(M.c)(e.avatarAssetList[e.token]):0}),Object(j.jsxs)(_.a,{children:[t&&t[e.token]&&t[e.token].walletRewards[0]?Object(W.b)(t[e.token].walletRewards.epochReward,q.b.WBTC.decimals):0," ","WBTC"]}),Object(j.jsxs)(_.a,{children:[t&&t[e.token]&&t[e.token].avatarRewards[0]?Object(W.b)(t[e.token].avatarRewards.epochReward,q.b.WBTC.decimals):0," ","WBTC"]}),Object(j.jsx)(_.a,{children:Object(j.jsx)(te,{row:e,address:i,rewardsData:t&&t[e.token]})})]})})]})},ce=n(434),se=n(225);const le=[{id:"ticker",numeric:!1,disablePadding:!0,isSort:!0,label:"Ticker"},{id:"markPrice",numeric:!1,disablePadding:!0,isSort:!0,label:"Mark Price"},{id:"collateralMarkValue",numeric:!0,disablePadding:!1,isSort:!0,label:"Collateral Value"},{id:"collateralRatio",numeric:!0,disablePadding:!1,isSort:!0,label:"Collateral Ratio"},{id:"guaranteeDays",numeric:!0,disablePadding:!1,isSort:!0,label:"Prepaid Interest Coverage"},{id:"OutstandingDebtPosition",numeric:!0,disablePadding:!1,isSort:!0,label:"Outstanding Debt Position"},{id:"action",numeric:!1,disablePadding:!1,isSort:!1,label:"Action"}];var de,pe,be,ue,me,je=function(){const{hashPowerTokenList:e}=Object(P.a)(),{changeCPT:t}=Object(se.a)(),{setActiveTab:n}=Object(ce.a)();return Object(j.jsxs)(S.a,{style:{marginBottom:20},children:[Object(j.jsxs)(ae,{children:[Object(j.jsx)("h3",{children:"Outstanding Debt"}),Object(j.jsxs)(H.b,{to:"/history/obligation",children:[Object(j.jsx)(ie,{}),"Interest Paid History"]})]}),Object(j.jsx)(_.b,{columns:le,dataSource:e,pagination:!1,isMyPage:!0,content:(e,a,i)=>Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(_.a,{style:{paddingLeft:0},component:"th",id:i,scope:"row",children:[Object(j.jsx)("img",{src:q.a[e.ticker],style:{display:"block",marginRight:7,float:"left"},alt:"icon"}),e.ticker]}),Object(j.jsxs)(_.a,{children:[e.tokensValues?Object(M.f)(e.tokensValues[e.token]):0," WBTC"]}),Object(j.jsxs)(_.a,{children:[Number(e.positionInfoValues)&&Number(e.positionInfoValues.totalAssetsValues)?Object(M.f)(e.positionInfoValues.totalAssetsValues):0," ","WBTC"]}),Object(j.jsx)(_.a,{children:Number(e.position)&&e.positionInfoValues&&(Object(M.b)(e.positionInfoValues.cRate).toString("\u221e")?"".concat(Object(M.b)(e.positionInfoValues.cRate),"%"):"".concat(e.positionInfoValues.cRate,"%"))}),Object(j.jsxs)(_.a,{children:[Number(e.position)&&e.positionInfoValues&&Object(M.b)(e.positionInfoValues.gDays)," days"]}),Object(j.jsx)(_.a,{children:Number(e.position)?(e.balance/Object(W.c)("1",e.decimals)).toFixed(4):0}),Object(j.jsx)(_.a,{children:Object(j.jsxs)(G.a,{direction:"row",spacing:2,children:[Object(j.jsx)(H.b,{style:{color:"#2AA1FF",fontSize:"14px",fontFamily:"PingFangSC-Regular,sans-serif"},to:"/collateral/manage",onClick:()=>{t(e)},children:"Manage Collateral"}),Object(j.jsx)(H.b,{style:{color:"#2AA1FF",fontSize:"14px",fontFamily:"PingFangSC-Regular,sans-serif"},to:"/shortneutralize",onClick:()=>{n(2),t(e)},children:"Neutralize"})]})})]})})]})},ge=n(230);const he=Object(b.a)("div")(de||(de=Object(a.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"]))),fe=Object(b.a)("div")(pe||(pe=Object(a.a)(["\n  box-sizing: border-box;\n  margin-top: 26px;\n  padding-right: 44px;\n  min-width: 1024px;\n  padding-bottom: 100px;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),xe=Object(b.a)(S.a)(be||(be=Object(a.a)(["\n  padding: 30px;\n  height: 100%;\n\n  &.rightPanel {\n    h4 {\n      line-height: 20px;\n    }\n  }\n  h4 {\n    font-family: PingFangSC-Medium, sans-serif;\n    font-weight: 480;\n    font-size: 16px;\n    line-height: 22px;\n    color: black;\n  }\n\n  p {\n    font-family: PingFangSC-Semibold, sans-serif;\n    font-size: 40px;\n    font-weight: 550;\n    line-height: 1;\n    color: #6ed6f3;\n    margin-top: 12px;\n    margin-bottom: 8px;\n    letter-spacing: 1px;\n    sub {\n      font-size: 16px;\n    }\n  }\n  span {\n    font-family: PingFangSC-Regular, sans-serif;\n    font-size: 14px;\n  }\n"]))),Oe=Object(b.a)(w.l)(ue||(ue=Object(a.a)(["\n  margin-bottom: 14px;\n  font-family: PingFangSC-Semibold, sans-serif;\n  font-weight: 550;\n  font-size: 22px;\n  line-height: 31px;\n  color: #000000;\n"]))),ye=Object(b.a)(C.c)(me||(me=Object(a.a)(["\n  background: linear-gradient(90deg, #61c2f7 0%, #7ae9f0 100%) !important;\n  border-radius: 20px !important;\n  box-shadow: none !important;\n  height: 30px !important;\n  line-height: 30px !important;\n  color: #000 !important;\n  font-size: 14px !important;\n  display: block !important;\n\n  &.disabled {\n    background: #ddd !important;\n    color: #eee !important;\n  }\n"]))),{claimHelper:we,uniswapV2Multicall:ve}=T.a,ke=new L.a.utils.Interface(I);new L.a.utils.Interface(z);function Se(){const{prevEpoch:e}=Object(ge.a)(),[t,n]=Object(i.useState)(!1),{hashPowerTokenList:a,walletTokenBalance:r,setRefresh:c}=Object(P.a)(),{signer:s}=Object(X.a)(),{chainId:l,account:d,library:p,active:b}=Object(v.b)(),{toastError:u,toastSuccess:m,toastInfo:g}=Object(A.a)(),[h,f]=Object(i.useState)(0),[x,O]=Object(i.useState)(0),[S,T]=Object(i.useState)(0),[L,H]=Object(i.useState)(0),[_,U]=Object(i.useState)(null),[G,$]=Object(i.useState)([]),{login:J,logout:Z}=Object(B.a)(),{onPresentConnectModal:Y}=Object(C.G)(J,Z,d),K=Object(i.useMemo)((()=>b&&l&&Object(R.f)(l)),[b,l]),{positionAll:Q}=Object(V.c)(),ee=Object(i.useCallback)((async()=>{if(d){if(s){const t=Object(R.b)(s,we.abi,we.address[l]);if(t)try{const e=[];for(const t of a)e.push([t.address[l],d]),t.avatar&&Number(t.avatar)>0&&e.push([t.address[l],t.avatar]);n(!0);const i=await t.multipleClaim(e);i&&(g("Submitted"),await i.wait(),m("Success"),c((e=>!e)),n(!1))}catch(e){n(!1),u("Fail",null===e||void 0===e?void 0:e.reason)}}}else Y()}),[d,l,a,c,s,u,g,m,Y]),te=Object(i.useCallback)((async(e,t,n,a,i,o,c)=>{if(p&&l){const d=Object(R.e)(p,a),b=Object(R.b)(d,e,t),u=Object(R.b)(d,I,q.b[n].address[l]);try{if(b&&r&&u){const e=await u.holderInfoMapping(a);return console.log("holderInfos",e),c?b.pendingReward(o,e[0],e[1],e[2]):b.pendingReward(Object(W.c)("1",i)*o,e[0],e[1],e[2])}}catch(s){console.log(">err",e,t,n,a,i,o,c,s)}}return 0}),[l,p,r]),ne=(Object(i.useCallback)((async()=>{if(K&&r){console.log("walletTokenBalance",r);const e=D.c[l].tokens,{provider:t}=Object(R.d)(N.f[l],d,l),n=new E.a(l,ve.address,ve.abi);for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const t=e[a],i=Q[a],o=[{target:t.address,callData:ke.encodeFunctionData("holderInfoMapping",[d]),functionSignature:"holderInfoMapping"},{target:t.address,callData:ke.encodeFunctionData("holderInfoMapping",[i.positionAddress]),functionSignature:"holderInfoMapping"}];n.addAbi(t.address,I),n.addAbi(t.blockUpdater,z);const{returnData:{holderInfoMapping:c}}=await n.aggregate(o);console.log("holderInfoMapping",c,r),r[F.h[a]]&&console.log("first",Object(W.c)(String(r[F.h[a]]),t.decimals))}}}),[d,l,K,Q,r]),Object(i.useCallback)((async()=>{const e={};for(const t of a){const[n,a]=await Promise.all([te(t.blockUpdater.abi,t.blockUpdater.address[l],t.token,t.position,t.decimals,t.avatarAssetList&&t.avatarAssetList[t.token]||0),te(t.blockUpdater.abi,t.blockUpdater.address[l],t.token,d,t.decimals,r[t.token]||0)]);console.log("walletRewards :>> ",t.rewards),e[t.token]={walletRewards:a,avatarRewards:n,walletEstimateDailyReward:t.rewards*r[t.token],avatarEstimateDailyReward:t.avatarAssetList?t.rewards*t.avatarAssetList[t.token]:0},console.log("data :>> ",e)}U(e)}),[d,l,a,te,r]));Object(i.useEffect)((()=>{a&&a.length&&r&&ne()}),[ne,a,r]),Object(i.useEffect)((()=>{if(a&&r&&_){let e=0,t=0,n=0,i=0;const o=[];for(const c of a){if(r[c.token]&&(e+=r[c.token]*Number(Object(W.b)(c.tokensValues[c.token],q.b.WBTC.decimals))*c.WBTCRouter.USDT),c.avatarAssetList&&(t+=c.avatarAssetList[c.token]*Number(Object(W.b)(c.tokensValues[c.token],q.b.WBTC.decimals))*c.WBTCRouter.USDT),_[c.token]){console.log("rewardsData[item.token].walletEstimateDailyReward :>> ",c.balance);n+=(_[c.token].walletEstimateDailyReward/10**8+_[c.token].avatarEstimateDailyReward/10**8)*c.WBTCRouter.USDT,i+=c.rewards/10**8*c.balance/10**6*c.WBTCRouter.USDT;const e=Number(Object(W.b)(_[c.token].walletRewards.epochReward,q.b.WBTC.decimals)),t=Number(Object(W.b)(_[c.token].avatarRewards.epochReward,q.b.WBTC.decimals)),a=e+t,r=(e+t)*c.WBTCRouter.USDT;o.push({rewards:a,usdt:r,lptoken:c.token})}f(e),O(t),T(n),H(i),$(o)}console.log("1 :>> ",1)}}),[a,_,r]);const ae=Object(i.useMemo)((()=>G.reduce(((e,t)=>e+t.rewards),0)),[G]),ie=Object(i.useMemo)((()=>{const e=G.reduce(((e,t)=>e+t.usdt),0);return W.a.formatCurrencyTwoDecimals(e)}),[G]),re=Object(i.useMemo)((()=>Object(j.jsxs)(o.a,{container:!0,style:{marginBottom:18,lineHeight:"20px",fontSize:"14px"},children:[Object(j.jsx)(o.a,{item:!0,xs:6,children:Object(j.jsxs)("span",{children:[ae&&ae.toFixed(8)||ae," WBTC"]})}),Object(j.jsx)(o.a,{item:!0,xs:6,dir:"rtl",children:Object(j.jsxs)("span",{children:["$",ie,"\u2248"]})})]})),[ie,ae]);return Object(j.jsxs)(he,{children:[Object(j.jsx)(w.f,{children:"My Page"}),Object(j.jsxs)(fe,{children:[Object(j.jsxs)(o.a,{container:!0,spacing:2,children:[Object(j.jsx)(o.a,{item:!0,xs:8,children:Object(j.jsxs)(o.a,{container:!0,spacing:2,children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsxs)(xe,{children:[Object(j.jsx)(Oe,{children:"Holdings - Synthetic Hashpower Token"}),Object(j.jsxs)(o.a,{container:!0,children:[Object(j.jsxs)(o.a,{item:!0,xs:6,children:[Object(j.jsx)("h4",{children:"Hashpower Token in Wallet "}),Object(j.jsxs)("p",{children:[Object(j.jsx)("sub",{children:"\u2248"}),"$",W.a.formatNumberWithUnits(h)]})]}),Object(j.jsxs)(o.a,{item:!0,xs:6,children:[Object(j.jsx)("h4",{children:"Hashpower Token in Collateral"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("sub",{children:"\u2248"}),"$",W.a.formatNumberWithUnits(x)]})]})]})]})}),Object(j.jsx)(o.a,{item:!0,xs:12,style:{paddingTop:20},children:Object(j.jsxs)(xe,{style:{paddingBottom:33},children:[Object(j.jsx)(Oe,{children:"Claimable Rewards"}),Object(j.jsxs)(o.a,{container:!0,spacing:2,children:[Object(j.jsxs)(o.a,{item:!0,xs:6,children:[re,Object(j.jsx)(y,{style:{marginBottom:18}}),Object(j.jsxs)(o.a,{container:!0,style:{marginBottom:20,lineHeight:"20px",fontSize:"14px"},children:[Object(j.jsx)(o.a,{item:!0,xs:6,children:Object(j.jsx)("span",{children:"Total"})}),Object(j.jsx)(o.a,{item:!0,xs:6,dir:"rtl",children:Object(j.jsxs)("span",{children:["$",ie,"\u2248"]})})]})]}),Object(j.jsxs)(o.a,{item:!0,xs:6,style:{paddingTop:0,paddingLeft:97},children:[Object(j.jsx)("img",{src:"/images/eth.png",style:{width:108,height:108,margin:"5px 0 0 35px",display:"block"},alt:"illustration"}),Object(j.jsx)(ye,{disabled:t,style:{margin:"30px 0 0"},className:"".concat(t?"disabled":""),onClick:ee,children:"Claim All Rewards"})]})]})]})})]})}),Object(j.jsx)(o.a,{item:!0,xs:4,children:Object(j.jsxs)(xe,{className:"rightPanel",children:[Object(j.jsxs)(Oe,{children:["Epoch ",e.epoch," Balance"]}),Object(j.jsxs)(o.a,{container:!0,children:[Object(j.jsxs)(o.a,{item:!0,xs:12,style:{marginBottom:30},children:[Object(j.jsx)("h4",{children:"Rewards Earned"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("sub",{children:"\u2248"}),"$",Object(M.d)(S)]})]}),Object(j.jsxs)(o.a,{item:!0,xs:12,style:{marginBottom:30},children:[Object(j.jsx)("h4",{children:"Interest Paid"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("sub",{children:"\u2248"}),"$",Object(M.d)(L)]})]}),Object(j.jsx)(o.a,{item:!0,xs:12,style:{marginBottom:30},children:Object(j.jsx)(y,{})}),Object(j.jsxs)(o.a,{item:!0,xs:12,style:{marginBottom:36},children:[Object(j.jsx)("h4",{children:"Net Rewards"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("sub",{children:"\u2248"}),Object(M.d)(S-L).includes("-")?Object(M.d)(S-L).replace("-","-$"):"$".concat(Object(M.d)(S-L))]})]})]})]})})]}),Object(j.jsx)("div",{style:{width:"100%"},children:Object(j.jsx)(k.a,{tabsStyle:{minHeight:36,paddingLeft:21},tabStyle:{paddingTop:0,paddingBottom:0,minHeight:32,lineHeight:"32px"},tab:[{label:"All",component:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(oe,{rewardsData:_}),Object(j.jsx)(je,{})]})},{label:"Holdings",component:Object(j.jsx)(oe,{rewardsData:_})},{label:"Outstanding Debt",component:Object(j.jsx)(je,{})}]})})]})]})}t.default=r.a.memo(Se)},412:function(e,t,n){"use strict";n.d(t,"m",(function(){return T})),n.d(t,"l",(function(){return M})),n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return P})),n.d(t,"e",(function(){return I})),n.d(t,"h",(function(){return W})),n.d(t,"k",(function(){return B})),n.d(t,"j",(function(){return z})),n.d(t,"g",(function(){return F})),n.d(t,"n",(function(){return D})),n.d(t,"d",(function(){return L})),n.d(t,"f",(function(){return N})),n.d(t,"i",(function(){return V}));var a,i,r,o,c,s,l,d,p,b,u,m,j,g,h=n(8),f=(n(1),n(46)),x=n(1056),O=n(1064),y=n(1065),w=n(107),v=n(433),k=n.n(v),S=n(21),C=n(0);const T=Object(f.a)(w.a)(a||(a=Object(h.a)(["\n  margin-bottom: 20px;\n  padding-bottom: 0 !important;\n"]))),M=Object(f.a)("h3")(i||(i=Object(h.a)(["\n  font-family: PingFangSC-Semibold, sans-serif;\n  font-style: normal;\n  font-weight: 550;\n  font-size: 22px;\n  line-height: 31px;\n  color: #000000;\n  margin-bottom: 10px;\n"]))),R=Object(f.a)((e=>Object(C.jsx)(x.a,{disableGutters:!0,elevation:0,square:!0,...e})))((()=>({borderBottom:".2px solid #a5a5a5",background:"unset",boxShadow:"none","&:last-child":{borderBottom:0},"&:before":{display:"none"},".MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(45deg)"}}))),A=Object(f.a)((e=>Object(C.jsx)(O.a,{expandIcon:Object(C.jsx)(k.a,{style:{color:"#2AA1FF"}}),...e})))((()=>({padding:0,"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(45deg)"},"& .MuiAccordionSummary-content":{margin:"20px 0",p:{color:"#000",fontSize:"1rem",fontFamily:"PingFangSC-Semibold, sans-serif",fontWeight:600,lineHeight:"22px"}}}))),P=Object(f.a)(y.a)((()=>({padding:"0 0 30px 0",transition:".3s"}))),I=(Object(f.a)("div")(r||(r=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Object(f.a)(S.c)(o||(o=Object(h.a)(["\n  display: block !important;\n  background: linear-gradient(90deg, #61c2f7 0%, #7ae9f0 100%);\n  border-radius: 20px !important;\n  color: #000;\n  width: 30% !important;\n  margin: 0 auto !important;\n  box-shadow: none !important;\n"])))),W=(Object(f.a)(S.c)(c||(c=Object(h.a)(["\n  display: block !important;\n  background: linear-gradient(90deg, #61c2f7 0%, #7ae9f0 100%);\n  border-radius: 20px !important;\n  color: #000;\n  //width: 30% !important;\n  margin: 0 auto !important;\n  box-shadow: none !important;\n"]))),Object(f.a)("div")(s||(s=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0;\n\n  div {\n    display: flex;\n    margin-bottom: 10px;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.5);\n\n    p + p {\n      margin-left: 20px;\n    }\n  }\n\n  .days {\n    margin: 0;\n  }\n"]))),Object(f.a)("div")(l||(l=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  width: calc(100% / 2 - 25px);\n\n  p {\n    height: 28px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 15px;\n    box-sizing: border-box;\n\n    span {\n      font-size: 12px;\n      line-height: 17px;\n      color: rgba(0, 0, 0, 0.5);\n    }\n  }\n"]))),Object(f.a)("strong")(d||(d=Object(h.a)(["\n  font-family: PingFangSC-Regular, sans-serif;\n  font-weight: 400;\n  display: block;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n  background: #c4c4c4;\n  line-height: 16px;\n  text-align: center;\n  border-radius: 50%;\n  flex: none;\n"])))),B=Object(f.a)("div")(p||(p=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  line-height: 20px;\n  color: rgba(0, 0, 0, 0.5);\n  background: #f1f1f1;\n  border-radius: 8px;\n  padding: 14px 80px 13px 21px;\n  margin-bottom: 20px;\n\n  strong {\n    margin-right: 16px;\n  }\n  * {\n    font-family: PingFangSC-Regular, sans-serif;\n  }\n"]))),z=Object(f.a)("span")(b||(b=Object(h.a)(["\n  font-family: PingFangSC-Regular, sans-serif;\n  font-size: 12px;\n  line-height: 17px;\n  color: rgba(0, 0, 0, 0.5);\n"]))),F=Object(f.a)("div")(u||(u=Object(h.a)(["\n  display: flex;\n"]))),D=(e,t)=>function(n){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(e,{...n,children:t})})},L=Object(f.a)(S.c)(m||(m=Object(h.a)(["\n  box-shadow: 0px 2px 0px rgba(0, 0, 0, 0.043) !important;\n  border-radius: 14px !important;\n  background: linear-gradient(270deg, #7ae9f1 0%, #61c3f7 100%) !important;\n  border-radius: 14px !important;\n  font-size: 14px !important;\n  height: 32px !important;\n  line-height: 32px !important;\n  color: #000 !important;\n  font-weight: normal !important;\n"]))),N=Object(f.a)("h1")(j||(j=Object(h.a)(["\n  font-family: 'Heebo Medium';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 32px;\n  line-height: 47px;\n  margin-bottom: 14px;\n  color: #000000;\n"]))),V=Object(f.a)("div")(g||(g=Object(h.a)(["\n  height: calc(100vh - 189px);\n  padding-bottom: 100px;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])))},413:function(e,t,n){"use strict";var a=n(1),i=n(142);t.a=()=>{const e=Object(a.useContext)(i.a);if(void 0===e)throw new Error("hashPowerToken context undefined");return e}},427:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return v}));var a,i=n(8),r=n(1),o=n.n(r),c=n(46),s=n(1067),l=n(1057),d=n(1068),p=n(1058),b=n(1069),u=n(1070),m=n(1071),j=n(1045),g=n(1036),h=n(988),f=n(10),x=n(0);const O=f.e.svg(a||(a=Object(i.a)(["\n  font-size: 14px;\n  width: 10px;\n  height: 5px;\n  display: block;\n"])));var y,w=function(e){let{order:t}=e;return Object(x.jsxs)("span",{children:[Object(x.jsx)(O,{width:"6",height:"4",viewBox:"0 0 6 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(x.jsx)("path",{d:"M0.284084 3.2146L4.81473 3.2146C5.03791 3.2146 5.17182 3.06953 5.06023 2.95794C4.89284 2.77939 2.89534 0.692616 2.79491 0.592183C2.67216 0.458272 2.40434 0.480591 2.29274 0.592183C2.21463 0.670297 0.161333 2.83519 0.0385814 2.95794C-0.0730109 3.08069 0.0720592 3.20344 0.284084 3.2146Z",fill:"asc"===t?"#ccc":" #7d7d7d"})}),Object(x.jsx)(O,{width:"6",height:"4",viewBox:"0 0 6 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(x.jsx)("path",{d:"M4.81626 0.7854H0.285613C0.0624289 0.7854 -0.0714817 0.930471 0.0401105 1.04206C0.207499 1.22061 2.205 3.30738 2.30543 3.40782C2.42818 3.54173 2.69601 3.51941 2.8076 3.40782C2.88571 3.3297 4.93901 1.16481 5.06176 1.04206C5.17335 0.919311 5.02828 0.79656 4.81626 0.7854Z",fill:"desc"===t?"#ccc":" #7d7d7d"})})]})};const v=Object(c.a)(g.a)((()=>({["&.".concat(h.a.head)]:{border:"none",color:"rgba(0, 0, 0, 0.5)"},["&.".concat(h.a.body)]:{fontSize:14,borderBottom:"1px solid #E2E8EE"}}))),k=Object(c.a)(s.a)((()=>({cursor:"pointer","&:last-child td, &:last-child th":{fontSize:14,borderBottom:"1px solid rgba(226, 232, 238, 1)"}}))),S=Object(c.a)(l.a)(y||(y=Object(i.a)(["\n  height: 80%;\n  overflow: scroll;\n  &::-webkit-scrollbar,\n  .MuiTableContainer-root::-webkit-scrollbar {\n    display: none;\n  }\n"])));function C(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function T(e,t){return"desc"===e?(e,n)=>C(e,n,t):(e,n)=>-C(e,n,t)}function M(e,t){const n=e.map(((e,t)=>[e,t]));return n.sort(((e,n)=>{const a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((e=>e[0]))}function R(e){const{order:t,orderBy:n,onRequestSort:a,columns:i,isMyPage:r=!1}=e;return Object(x.jsx)(d.a,{children:Object(x.jsx)(s.a,{children:i.map(((e,i)=>{return Object(x.jsx)(v,{style:{paddingLeft:0===i&&r&&0},sortDirection:n===e.id&&t,children:e.isSort?Object(x.jsxs)(p.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(o=e.id,e=>{a(e,o)}),IconComponent:null,style:{color:"rgba(0,0,0,.5)",fontFamily:"PingFangSC-Regular, sans-serif"},children:[e.label,n===e.id?Object(x.jsx)(l.a,{component:"span",style:{marginLeft:4},children:Object(x.jsx)(w,{order:t})}):null]}):Object(x.jsxs)(p.a,{active:n===e.id,direction:n===e.id?t:"asc",IconComponent:null,style:{color:"rgba(0,0,0,.5)",fontFamily:"PingFangSC-Regular, sans-serif"},children:[e.label,n===e.id?Object(x.jsx)(l.a,{component:"span",style:{marginLeft:4},children:Object(x.jsx)(w,{order:t})}):null]})},e.id);var o}))})})}function A(e){const{dataSource:t,columns:n,content:a,pagination:i,rowClick:c,isMyPage:s,pages:l}=e,[d,p]=o.a.useState("desc"),[g,h]=o.a.useState(n[0].id),[f,O]=o.a.useState([]),[y,w]=o.a.useState(0),[C,A]=o.a.useState(10),P=Object(r.useCallback)(((e,t)=>{const n=f.indexOf(t);let a=[];-1===n?a=a.concat(f,t):0===n?a=a.concat(f.slice(1)):n===f.length-1?a=a.concat(f.slice(0,-1)):n>0&&(a=a.concat(f.slice(0,n),f.slice(n+1))),O(a),c&&c(e,t)}),[c,f]),I=o.a.useCallback((()=>t&&t.length&&i?l?M(t,T(d,g)).map(((e,t)=>{const n="enhanced-table-checkbox-".concat(t);return Object(x.jsx)(k,{hover:!0,onClick:t=>P(t,e.ticker),role:"checkbox",tabIndex:-1,children:a(e,t,n)},"row_".concat(n))})):M(t,T(d,g)).slice(y*C,y*C+C).map(((e,t)=>{const n="enhanced-table-checkbox-".concat(t);return Object(x.jsx)(k,{hover:!0,onClick:t=>P(t,e.ticker),role:"checkbox",tabIndex:-1,children:a(e,t,n)},"row_".concat(n))})):t&&t.length&&!i?M(t,T(d,g)).map(((e,t)=>{const n="enhanced-table-checkbox-".concat(t);return Object(x.jsx)(k,{hover:!0,onClick:t=>P(t,e.ticker),role:"checkbox",tabIndex:-1,children:a(e,t,n)},e.ticker)})):Object(x.jsx)(k,{children:Object(x.jsx)(v,{style:{textAlign:"center"},colSpan:n.length,rowSpan:3,children:"No data"})})),[n.length,a,t,P,d,g,y,l,i,C]);return Object(x.jsxs)(S,{children:[Object(x.jsx)(b.a,{children:Object(x.jsxs)(u.a,{sx:{minWidth:1400},"aria-labelledby":"tableTitle",children:[Object(x.jsx)(R,{order:d,orderBy:g,onRequestSort:(e,t)=>{p(g===t&&"asc"===d?"desc":"asc"),h(t)},columns:n,isMyPage:s}),Object(x.jsx)(m.a,{children:I()})]})}),i?Object(x.jsx)(j.a,{rowsPerPageOptions:[10],component:"div",count:l||t&&t.length||0,rowsPerPage:C,page:y,onPageChange:(t,n)=>{w(n),i&&e.onChangePage&&e.onChangePage(n)},onRowsPerPageChange:e=>{A(parseInt(e.target.value,10)),w(0)}}):null]})}},434:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return g}));var a=n(37),i=n(25),r=n(474),o=n(1),c=n(23),s=n(92),l=n(140),d=n(29),p=n(93),b=n(213);function u(){const{account:e,chainId:t}=Object(i.b)(),n=Object(a.c)((e=>e.short.activeInfo)),{currentPosition:b}=Object(l.c)(),{onCheckApprove:u}=Object(r.b)(),{handleApprove:m}=Object(r.a)(e,n.token?c.b[n.token].address[t]:"0"),[j,g]=Object(o.useState)(!1),{toastError:h}=Object(s.a)();Object(o.useEffect)((()=>{n.token&&u(e,d.e[t].tokens[d.h[n.token]].address,b.positionAddress).then((e=>{e&&e._hex>0?g(!0):g(!1)})).catch((()=>{g(!1)}))}),[e,n,t,b.positionAddress,u]);return{approveStatus:j,onApprove:Object(o.useCallback)((async()=>{try{g(!0);return await m(b.positionAddress)}catch({message:e,reason:t}){return g(!1),h(p.e.failed,"".concat(t)),e}}),[m,b.positionAddress,h])}}function m(){const e=Object(a.b)(),{activeAmount:t,activeInfo:n,activeIndex:i}=Object(a.c)((e=>e.short)),{pendingActionList:r}=j(),c=Object(o.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(b.e)({activeInfo:t}));const n=r.findIndex((e=>e.token===t.token&&e.tokenType===t.tokenType));n>=0&&e(Object(b.f)({index:n}))}),[e,r]),s=Object(o.useCallback)((t=>{e(Object(b.h)({index:t}))}),[e]),l=Object(o.useCallback)((t=>{e(Object(b.f)({index:t}))}),[e]),d=Object(o.useCallback)((t=>{e(Object(b.g)({amount:t}))}),[e]),p=Object(o.useCallback)((()=>{c(),d(""),l(-1)}),[l,c,d]),u=Object(o.useMemo)((()=>null!==n&&void 0!==n&&n.token?{...n,amount:t,activeIndex:i}:{token:null,amount:"",tokenType:null,activeIndex:-1,approveStatus:!1}),[t,i,n]),m=Object(o.useCallback)((t=>{let{ratio:n,coverage:a}=t;e(Object(b.i)({rateInfo:{rate:n,coverage:a}}))}),[e]);return{setActionInfo:c,setActiveAmount:d,clearActive:p,setActiveTab:s,activeInfo:u,setActionIndex:l,onChangeCollateralIndex:m}}function j(){const e=Object(a.b)(),{pendingActions:t}=Object(a.c)((e=>e.short)),n=Object(o.useMemo)((()=>new Map(t)),[t]),i=Object(o.useCallback)((t=>{const a=n.get(t.token)||[];n.set(t.token,[...a,{...t,type:b.a.ADD}]),e(Object(b.d)({actions:n}))}),[e,n]),r=Object(o.useCallback)(((t,a)=>{const i=[...n.get(t)||[]].filter((e=>e.tokenType!==a));n.set(t,i),e(Object(b.d)({actions:n}))}),[e,n]),c=Object(o.useCallback)((()=>{e(Object(b.d)({actions:new Map}))}),[e]),s=Object(o.useCallback)((t=>{const a=[...n.get(t.token)||[]],i=a.findIndex((e=>e.tokenType===t.tokenType));a.splice(i,1,{...t,type:b.a.ADD}),n.set(t.token,a),e(Object(b.d)({actions:n}))}),[n,e]),l=Object(o.useCallback)((t=>{const a=[...n.get(t.token)||[]],i=a.findIndex((e=>e.neutralizeType===t.neutralizeType));a.splice(i,1,{...t,type:b.a.ADD}),n.set(t.token,a),e(Object(b.d)({actions:n}))}),[n,e]),d=Object(o.useCallback)(((t,a)=>{const i=[...n.get(t)||[]].filter((e=>e.neutralizeType!==a));n.set(t,i),e(Object(b.d)({actions:n}))}),[e,n]),p=Object(o.useMemo)((()=>{const e=new Map;return t.forEach(((t,n)=>{e.set(n,t.map((e=>e.tokenType)))})),e}),[t]),u=Object(o.useMemo)((()=>Array.from(t.values()).flat()),[t]),m=Object(o.useMemo)((()=>{const e={};return u.forEach((t=>{t.tokenType!==b.b.SUPPLY&&t.tokenType!==b.b.WithDraw||(e[t.token]=t.amount)})),e}),[u]),j=Object(o.useMemo)((()=>{let e=0;return u.forEach((t=>{t.tokenType===b.b.SHORT&&(e=t.amount)})),e}),[u]),g=Object(o.useMemo)((()=>{let e=0;return u.forEach((t=>{t.tokenType===b.b.NEUTRALIZE&&(e+=t.amount)})),e}),[u]),h=Object(o.useMemo)((()=>{let e=0;return u.forEach((t=>{t.tokenType===b.b.SUPPLY&&(e+=t.amount)})),e}),[u]),f=Object(o.useMemo)((()=>{const e=new Map;return t.forEach((t=>{const n=t.filter((e=>e.tokenType===b.b.SUPPLY))[0];n&&e.set(n.token,n.amount)})),e}),[t]);return{addPendingAction:i,clearAllPendingAction:c,deletePendingAction:r,updatePendingAction:s,deleteNeutralizePendingAction:d,updateNeutralizePendingAction:l,pendingTokenTypes:p,pendingActions:t,pendingActionList:u,tokenAmount:m,shortAmount:j,supplyAmount:f,supplyAllAmount:h,neutralizeAmount:g}}function g(){const{rateInfo:e,activeTab:t,activeInfo:n}=Object(a.c)((e=>e.short)),i=Object(a.b)();return{rateInfo:e,onChangeCollateralIndex:Object(o.useCallback)((e=>{let{ratio:t,coverage:n}=e;i(Object(b.i)({rateInfo:{rate:t,coverage:n}}))}),[i]),activeTab:t,activeInfo:n}}},474:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(25),i=n(1),r=n(16),o=n(12),c=n(79),s=n(108);function l(){const{active:e}=Object(a.b)(),{signer:t}=Object(s.a)();return{onCheckApprove:Object(i.useCallback)((async(n,a,i)=>{if(e)try{console.log("handleApprove",1);const e=Object(o.b)(t,c,a);if(e){return await e.allowance(n,i)}}catch(r){return console.error("Failed to check approval",r),null}return null}),[e,t])}}function d(e,t){const{active:n,library:s,chainId:l}=Object(a.b)();return{handleApprove:Object(i.useCallback)((async a=>{if(n&&l){const n=Object(o.e)(s,e),i=Object(o.b)(n,c,t&&"object"===typeof t?t[l]:t);if(i)return i.approve(a,r.a.constants.MaxUint256)}return null}),[n,l,s,e,t])}}},527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(590)),i=r(n(591));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){const r=(e=e||{}).random||(e.rng||a.default)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return(0,i.default)(r)};t.default=o},588:function(e,t,n){"use strict";var a=n(1),i=n(46),r=n(1048),o=n(1066),c=n(30),s=n(0);const l=Object(i.a)((e=>Object(s.jsx)(r.a,{...e,TabIndicatorProps:{children:Object(s.jsx)("span",{className:"MuiTabs-indicatorSpan"})}})))({margin:"40px auto 20px","& .MuiTabs-indicator":{display:"flex",justifyContent:"center",height:4,backgroundColor:"transparent"},"& .MuiTabs-indicatorSpan":{maxWidth:20,width:"100%",borderRadius:5,background:"linear-gradient(270deg, #7AE9F0 0%, #61C3F7 100%);"}}),d=Object(i.a)((e=>Object(s.jsx)(o.a,{disableRipple:!0,...e})))((e=>{let{theme:t}=e;return{textTransform:"none",minWidth:0,[t.breakpoints.up("sm")]:{minWidth:0},fontFamily:"Heebo Medium",fontWeight:500,marginRight:t.spacing(1),color:"rgba(0, 0, 0, 0.5)",fontSize:"22px","&:hover":{color:"#000000",opacity:1},"&.Mui-selected":{color:"#000000",fontWeight:t.typography.fontWeightMedium},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}}));t.a=Object(c.h)((function(e){const{tab:t,tabsStyle:n,tabStyle:i,defaultTabsValue:r,history:o}=e,[c,p]=a.useState(Number(r)||0);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{style:n,value:c,onChange:(e,t)=>{p(t),void 0!==r&&o.push("/history/claimed/".concat(t))},children:t.map((e=>Object(s.jsx)(d,{style:i,label:e.label},e.label)))}),t.map(((e,t)=>t===c&&Object(s.jsx)(a.Fragment,{children:e.component},e.label)))]})}))},589:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(23);async function i(e){let{connector:t,tokenSymbol:n,chainId:i}=e;try{const e=await t.getProvider();await e.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:a.b[n].address[i],symbol:n,decimals:a.b[n].decimals}}})}catch(r){}}},590:function(e,t,n){"use strict";let a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(i)};const i=new Uint8Array(16)},591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n(592))&&a.__esModule?a:{default:a};const r=[];for(let c=0;c<256;++c)r.push((c+256).toString(16).substr(1));var o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n};t.default=o},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n(593))&&a.__esModule?a:{default:a};var r=function(e){return"string"===typeof e&&i.default.test(e)};t.default=r},593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},709:function(e,t,n){"use strict";var a=n(15),i=n(6),r=n(1),o=n(31),c=n(45),s=n(702),l=n(361),d=n(46),p=n(74);var b=r.createContext(),u=n(184),m=n(208);function j(e){return Object(u.a)("MuiGrid",e)}const g=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];var h=Object(m.a)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...g.map((e=>"grid-xs-".concat(e))),...g.map((e=>"grid-sm-".concat(e))),...g.map((e=>"grid-md-".concat(e))),...g.map((e=>"grid-lg-".concat(e))),...g.map((e=>"grid-xl-".concat(e)))]),f=n(0);const x=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function O(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];const{xs:a,sm:i,md:r,lg:o,xl:c}=e;return[Number(a)>0&&(n["spacing-xs-".concat(String(a))]||"spacing-xs-".concat(String(a))),Number(i)>0&&(n["spacing-sm-".concat(String(i))]||"spacing-sm-".concat(String(i))),Number(r)>0&&(n["spacing-md-".concat(String(r))]||"spacing-md-".concat(String(r))),Number(o)>0&&(n["spacing-lg-".concat(String(o))]||"spacing-lg-".concat(String(o))),Number(c)>0&&(n["spacing-xl-".concat(String(c))]||"spacing-xl-".concat(String(c)))]}const w=Object(d.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{container:n,direction:a,item:i,lg:r,md:o,sm:c,spacing:s,wrap:l,xl:d,xs:p,zeroMinWidth:b}=e.ownerState;return[t.root,n&&t.container,i&&t.item,b&&t.zeroMinWidth,...y(s,n,t),"row"!==a&&t["direction-xs-".concat(String(a))],"wrap"!==l&&t["wrap-xs-".concat(String(l))],!1!==p&&t["grid-xs-".concat(String(p))],!1!==c&&t["grid-sm-".concat(String(c))],!1!==o&&t["grid-md-".concat(String(o))],!1!==r&&t["grid-lg-".concat(String(r))],!1!==d&&t["grid-xl-".concat(String(d))]]}})((e=>{let{ownerState:t}=e;return Object(i.a)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const a=Object(c.d)({values:n.direction,breakpoints:t.breakpoints.values});return Object(c.b)({theme:t},a,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(h.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:a,rowSpacing:i}=n;let r={};if(a&&0!==i){const e=Object(c.d)({values:i,breakpoints:t.breakpoints.values});r=Object(c.b)({theme:t},e,(e=>{const n=t.spacing(e);return"0px"!==n?{marginTop:"-".concat(O(n)),["& > .".concat(h.item)]:{paddingTop:O(n)}}:{}}))}return r}),(function(e){let{theme:t,ownerState:n}=e;const{container:a,columnSpacing:i}=n;let r={};if(a&&0!==i){const e=Object(c.d)({values:i,breakpoints:t.breakpoints.values});r=Object(c.b)({theme:t},e,(e=>{const n=t.spacing(e);return"0px"!==n?{width:"calc(100% + ".concat(O(n),")"),marginLeft:"-".concat(O(n)),["& > .".concat(h.item)]:{paddingLeft:O(n)}}:{}}))}return r}),(function(e){let t,{theme:n,ownerState:a}=e;return n.breakpoints.keys.reduce(((e,r)=>{let o={};if(a[r]&&(t=a[r]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Object(c.d)({values:a.columns,breakpoints:n.breakpoints.values}),l="object"===typeof s?s[r]:s;if(void 0===l||null===l)return e;const d="".concat(Math.round(t/l*1e8)/1e6,"%");let p={};if(a.container&&a.item&&0!==a.columnSpacing){const e=n.spacing(a.columnSpacing);if("0px"!==e){const t="calc(".concat(d," + ").concat(O(e),")");p={flexBasis:t,maxWidth:t}}}o=Object(i.a)({flexBasis:d,flexGrow:0,maxWidth:d},p)}return 0===n.breakpoints.values[r]?Object.assign(e,o):e[n.breakpoints.up(r)]=o,e}),{})})),v=r.forwardRef((function(e,t){const n=Object(p.a)({props:e,name:"MuiGrid"}),c=Object(s.a)(n),{className:d,columns:u,columnSpacing:m,component:g="div",container:h=!1,direction:O="row",item:v=!1,lg:k=!1,md:S=!1,rowSpacing:C,sm:T=!1,spacing:M=0,wrap:R="wrap",xl:A=!1,xs:P=!1,zeroMinWidth:I=!1}=c,W=Object(a.a)(c,x),B=C||M,z=m||M,F=r.useContext(b),D=u||F||12,L=Object(i.a)({},c,{columns:D,container:h,direction:O,item:v,lg:k,md:S,sm:T,rowSpacing:B,columnSpacing:z,wrap:R,xl:A,xs:P,zeroMinWidth:I}),N=(e=>{const{classes:t,container:n,direction:a,item:i,lg:r,md:o,sm:c,spacing:s,wrap:d,xl:p,xs:b,zeroMinWidth:u}=e,m={root:["root",n&&"container",i&&"item",u&&"zeroMinWidth",...y(s,n),"row"!==a&&"direction-xs-".concat(String(a)),"wrap"!==d&&"wrap-xs-".concat(String(d)),!1!==b&&"grid-xs-".concat(String(b)),!1!==c&&"grid-sm-".concat(String(c)),!1!==o&&"grid-md-".concat(String(o)),!1!==r&&"grid-lg-".concat(String(r)),!1!==p&&"grid-xl-".concat(String(p))]};return Object(l.a)(m,j,t)})(L);return V=Object(f.jsx)(w,Object(i.a)({ownerState:L,className:Object(o.default)(N.root,d),as:g,ref:t},W)),12!==D?Object(f.jsx)(b.Provider,{value:D,children:V}):V;var V}));t.a=v},987:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"holder","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ClaimReward","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"blockUpdater","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"holderInfoMapping","outputs":[{"internalType":"uint256","name":"lastModifiedEpoch","type":"uint256"},{"internalType":"uint256","name":"lastModifiedTime","type":"uint256"},{"internalType":"uint256","name":"accAmountTime","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"interestToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"retire","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_vault","type":"address"}],"name":"setVault","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},990:function(e,t,n){"use strict";var a=n(15),i=n(6),r=n(1),o=n(45),c=n(17),s=n(702),l=n(207),d=n(46),p=n(74),b=n(0);const u=["component","direction","spacing","divider","children"];function m(e,t){const n=r.Children.toArray(e).filter(Boolean);return n.reduce(((e,a,i)=>(e.push(a),i<n.length-1&&e.push(r.cloneElement(t,{key:"separator-".concat(i)})),e)),[])}const j=Object(d.a)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t,theme:n}=e,a=Object(i.a)({display:"flex"},Object(o.b)({theme:n},Object(o.d)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=Object(c.a)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e)),{}),r=Object(o.d)({values:t.direction,base:i}),s=Object(o.d)({values:t.spacing,base:i}),d=(n,a)=>{return{"& > :not(style) + :not(style)":{margin:0,["margin".concat((i=a?r[a]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:Object(c.c)(e,n)}};var i};a=Object(l.a)(a,Object(o.b)({theme:n},s,d))}return a})),g=r.forwardRef((function(e,t){const n=Object(p.a)({props:e,name:"MuiStack"}),r=Object(s.a)(n),{component:o="div",direction:c="column",spacing:l=0,divider:d,children:g}=r,h=Object(a.a)(r,u),f={direction:c,spacing:l};return Object(b.jsx)(j,Object(i.a)({as:o,ownerState:f,ref:t},h,{children:d?m(g,d):g}))}));t.a=g}}]);
//# sourceMappingURL=13.f88b4488.chunk.js.map