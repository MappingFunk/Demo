{"version":3,"sources":["components/MainTitle.tsx","views/Liquidation/index.tsx"],"names":["Title","styled","_templateObject","_taggedTemplateLiteral","MainTitle","props","children","_jsx","Wrapper","CardWrapper","Card","_templateObject2","headCells","id","numeric","disablePadding","label","Liquidation","history","holderText","setPlaceholder","useState","searchVal","setSearchVal","onSearch","useCallback","_ref","target","value","hashPowerTokenList","useHashPowerToken","changeCPT","useUpdataCurrentCPT","cRateNewVal","row","positionInfoValues","Object","keys","length","cRate","includes","concat","gDaysNewVale","gDays","_jsxs","style","marginBottom","fontFamily","Search","SearchIconWrapper","SearchIcon","StyledInputBase","type","placeholder","inputProps","onInput","onFocus","onBlur","Table","rowClick","_","name","tokenData","filter","item","token","push","pagination","dataSource","columns","content","index","labelId","_Fragment","StyledTableCell","component","scope","color","address","avatar","slice","ticker","Number","position","formatWBTC","tokensValues","formatNumber","balance","toSmallUnits","decimals"],"mappings":"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","file":"static/js/28.485c2e55.chunk.js","sourcesContent":["import React from 'react';\nimport {styled} from \"@mui/material/styles\";\n\nconst Title = styled('h1')`\n  font-family: \"Heebo Medium\";\n  font-style: normal;\n  font-weight: 500; \n  font-size: 32px;\n  line-height: 48px;\n  color: #000;\n`\n\nfunction MainTitle(props) {\n  const {children} = props;\n  return (\n      <Title {...props}>\n        {children}\n      </Title>\n  );\n}\n\nexport default MainTitle;\n","import React, { useCallback, useState } from 'react'\nimport { styled } from '@mui/material/styles'\nimport Card from 'components/Card'\nimport Table, { StyledTableCell } from 'components/Table'\nimport SearchIcon from '@mui/icons-material/Search'\nimport { formatNumber, formatWBTC } from 'utils/formatTheValue'\nimport useHashPowerToken from 'hooks/useHashPowerToken'\nimport MainTitle from 'components/MainTitle'\nimport { toSmallUnits } from 'utils/transformHelper'\nimport { useUpdataCurrentCPT } from 'state/CollateralManage/hooks'\nimport { Search, StyledInputBase, SearchIconWrapper } from '../Collateral'\n\nconst Wrapper = styled('div')`\n  padding-right: 44px;\n`\n\nconst CardWrapper = styled(Card)`\n  .pagination {\n  }\n`\nconst headCells = [\n  {\n    id: 'avatar',\n    numeric: false,\n    disablePadding: true,\n    label: 'Collateral',\n  },\n  {\n    id: 'ticker',\n    numeric: true,\n    disablePadding: false,\n    label: 'Ticker',\n  },\n  {\n    id: 'markPrice',\n    numeric: true,\n    disablePadding: false,\n    label: 'Mark Price',\n  },\n  /*  {\n    id: 'collateralMarkPrice',\n    numeric: true,\n    disablePadding: false,\n    label: 'Collateral Mark Value',\n  },\n  {\n    id: 'collateralMarketValue',\n    numeric: true,\n    disablePadding: false,\n    label: 'Collateral Market Value',\n  }, */\n  {\n    id: 'outstandingDebtPosition',\n    numeric: true,\n    disablePadding: false,\n    label: ' Outstanding Debt Position',\n  },\n  {\n    id: 'collateralRatio',\n    numeric: true,\n    disablePadding: false,\n    label: 'Collateral Ratio',\n  },\n  {\n    id: 'guaranteeDays',\n    numeric: true,\n    disablePadding: false,\n    label: 'Prepaid Interest Coverage',\n  },\n]\n\nfunction Liquidation(props) {\n  const { history } = props\n  const [holderText, setPlaceholder] = useState('Ticker')\n  const [searchVal, setSearchVal] = useState()\n  const onSearch = useCallback(({ target }) => {\n    const { value } = target\n    setSearchVal(value)\n  }, [])\n  const { hashPowerTokenList } = useHashPowerToken()\n  const { changeCPT } = useUpdataCurrentCPT()\n\n  const addressShort = (address) => {\n    if (!address) return address\n    return `${address.slice(0, 6)}...${address.slice(-6)}`\n  }\n\n  const cRateNewVal = useCallback((row: any) => {\n    if (row.positionInfoValues && Object.keys(row.positionInfoValues).length) {\n      if (row.positionInfoValues.cRate.includes('NaN')) {\n        return 0\n      }\n      if (row.positionInfoValues.cRate === 'Infinity') {\n        return '+∞'\n      }\n      return `${row.positionInfoValues.cRate}%`\n    }\n    return 0\n    // row.positionInfoValues && Object.keys(row.positionInfoValues).length\n    //   ? row.positionInfoValues.cRate.includes('NaN')\n    //     ? 0\n    //     : row.positionInfoValues.cRate === 'Infinity'\n    //     ? '+∞'\n    //     : `${row.positionInfoValues.cRate}%`\n    //   : 0\n  }, [])\n\n  const gDaysNewVale = useCallback((row: any) => {\n    if (row.positionInfoValues && Object.keys(row.positionInfoValues).length && row.positionInfoValues.gDays) {\n      if (row.positionInfoValues.gDays === 'Infinity') {\n        return '+∞'\n      }\n      return row.positionInfoValues.gDays\n    }\n    return 0\n    // row.positionInfoValues && Object.keys(row.positionInfoValues).length && row.positionInfoValues.gDays\n    //   ? row.positionInfoValues.gDays === 'Infinity'\n    //     ? '+∞'\n    //     : row.positionInfoValues.gDays\n    //   : 0\n  }, [])\n\n  return (\n    <Wrapper>\n      <MainTitle style={{ marginBottom: 14, fontFamily: 'Heebo Medium' }}>Liquidation</MainTitle>\n      <CardWrapper>\n        <Search>\n          <SearchIconWrapper>\n            <SearchIcon />\n          </SearchIconWrapper>\n          <StyledInputBase\n            type=\"search\"\n            placeholder={holderText}\n            inputProps={{ 'aria-label': 'search' }}\n            value={searchVal}\n            onInput={onSearch}\n            onFocus={() => {\n              setPlaceholder('')\n            }}\n            onBlur={() => {\n              setPlaceholder('Ticker')\n            }}\n          />\n        </Search>\n        <Table\n          rowClick={(_, name) => {\n            const tokenData = hashPowerTokenList.filter((item) => item.token === name)[0]\n            changeCPT(tokenData)\n            history.push('/liquidation/detail')\n          }}\n          pagination\n          dataSource={hashPowerTokenList || []}\n          columns={headCells}\n          content={(row, index, labelId) => (\n            <>\n              <StyledTableCell component=\"th\" id={labelId} scope=\"row\">\n                <span style={{ color: '#2AA1FF' }}>{addressShort(row.avatar)}</span>\n              </StyledTableCell>\n              <StyledTableCell>{row.ticker}</StyledTableCell>\n              <StyledTableCell>\n                {Number(row.position) ? formatWBTC(row.tokensValues[row.token]) : 0} WBTC\n              </StyledTableCell>\n              {/*  <StyledTableCell>{row.collateralMarkPrice}</StyledTableCell>\n              <StyledTableCell>{row.collateralMarketValue}</StyledTableCell> */}\n              <StyledTableCell>\n                {Number(row.position) ? formatNumber(row.balance / (toSmallUnits('1', row.decimals) as any)) : 0}\n              </StyledTableCell>\n              <StyledTableCell>{cRateNewVal(row)}</StyledTableCell>\n              <StyledTableCell>{gDaysNewVale(row)} days</StyledTableCell>\n            </>\n          )}\n        />\n      </CardWrapper>\n    </Wrapper>\n  )\n}\n\nexport default Liquidation\n"],"sourceRoot":""}